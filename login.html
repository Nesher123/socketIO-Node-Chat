<!--
  Cloudio
  Developped by:
      Chen Arnon - ID 310310
      Ofir Nesher - ID 310307
-->
<!DOCTYPE html>
<html>
  <title>Cloudio</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>

  <body>
    <div id="content">
      <h1>Hello! Please login with a username</h1>

      <form
        class="form"
        id="frm"
        name="contactform"
        type="get"
        action="return isValid()"
      >
        <input
          placeholder="Please enter your name"
          id="userInput"
          type="text"
          name="name"
          autocomplete="on"
        />

        <input
          placeholder="insert your password"
          id="password"
          type="password"
          name="userPassword"
        />

        <input
          class="send"
          id="register"
          type="submit"
          value="login"
          onclick="isValid();"
        />
      </form>
    </div>
  </body>

  <script>
    function isValid() {
      let username = document.getElementById("userInput").value;
      let password = document.getElementById("password").value;
      let f = document.getElementById("frm");

      if (username.indexOf(" ") >= 0 || username == "") {
        alert("Username must be a single word, please try again");
        f.setAttribute("action", "/");
      } else {
        sessionStorage.setItem("username", username);
        sessionStorage.setItem("password", password);
        f.setAttribute("action", "chat");
      }
    }
  </script>
</html>
